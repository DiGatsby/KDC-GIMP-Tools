#!/usr/bin/env python

from gimpfu import *

CMAPS = [
	(0, 128, 0, 31, 31, 31, 47, 47, 47, 63, 63, 63, 79, 79, 79, 95, 95, 95, 111, 111, 111, 127, 127, 127, 143, 143, 143, 159, 159, 159, 175, 175, 175, 191, 191, 191, 207, 207, 207, 223, 223, 223, 239, 239, 239, 255, 255, 255),

	# Title screen
	(0, 0, 0, 0, 0, 0, 0, 0, 0, 248, 248, 248, 0, 0, 0, 8, 16, 72, 0, 0, 0, 240, 120, 40, 248, 144, 40, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 248, 248, 248),
	(248, 248, 248, 0, 0, 0, 138, 17, 7, 210, 28, 9, 89, 67, 7, 247, 187, 45, 200, 64, 40, 240, 120, 40, 248, 144, 40, 8, 16, 72, 176, 144, 72, 248, 192, 120, 248, 144, 64, 73, 68, 109, 87, 83, 116, 248, 248, 248),
	# orig P3 (248, 248, 248, 248, 216, 72, 168, 176, 184, 120, 120, 152, 56, 56, 88, 0, 56, 112, 16, 32, 96, 0, 0, 0, 144, 144, 144, 240, 240, 240, 192, 192, 200, 144, 152, 176, 56, 80, 136, 248, 168, 0, 216, 88, 32, 248, 248, 248),
	(248, 248, 248, 120, 88, 136, 0, 16, 88, 168, 112, 152, 240, 152, 176, 248, 184, 200, 200, 152, 176, 240, 136, 168, 168, 96, 136, 80, 0, 64, 208, 0, 32, 216, 8, 40, 216, 16, 40, 224, 96, 112, 248, 248, 248, 248, 248, 248),
	(248, 248, 248, 248, 248, 248, 248, 128, 184, 248, 136, 184, 248, 144, 184, 248, 152, 184, 248, 168, 176, 248, 176, 176, 248, 184, 176, 248, 192, 176, 248, 200, 176, 248, 208, 176, 248, 216, 176, 248, 232, 168, 248, 240, 168, 248, 240, 168),

	# Cutscene screen
	#(104, 104, 104, 0, 0, 0, 48, 0, 0, 104, 0, 0, 184, 56, 56, 208, 80, 88, 248, 120, 136, 128, 112, 96, 88, 72, 56, 136, 120, 104, 96, 80, 64, 64, 72, 120, 216, 216, 192, 112, 120, 168, 248, 248, 240, 248, 248, 248),
	(104, 104, 104, 0, 0, 0, 48, 0, 0, 80, 54, 16, 200, 108, 32, 240, 120, 40, 248, 144, 40, 128, 112, 96, 88, 72, 56, 136, 120, 104, 96, 80, 64, 64, 72, 120, 216, 216, 192, 112, 120, 168, 248, 248, 240, 248, 248, 248),
	# logo
	# orig (88, 88, 88, 0, 0, 0, 0, 32, 80, 0, 72, 128, 120, 88, 72, 8, 16, 64, 24, 24, 64, 208, 0, 32, 128, 160, 192, 128, 144, 64, 160, 104, 144, 248, 152, 168, 240, 104, 16, 248, 168, 0, 248, 208, 0, 248, 248, 248),
	#Burgie (154, 154, 154, 103, 112, 103, 29, 52, 9, 103, 137, 32, 66, 86, 24, 242, 198, 93, 205, 135, 45, 186, 106, 33, 203, 148, 100, 125, 61, 17, 160, 83, 27, 222, 186, 169, 68, 29, 16, 18, 6, 4, 0, 0, 0, 249, 232, 229),
	(102, 40, 40, 0, 0, 0, 21, 107, 121, 72, 151, 159, 188, 130, 72, 240, 120, 40, 248, 144, 40, 188, 156, 117, 143, 188, 195, 88, 216, 231, 166, 211, 218, 238, 217, 128, 176, 230, 235, 224, 249, 254, 253, 255, 171, 239, 252, 253),
	
	# Scoreboard
	(104, 104, 104, 64, 64, 64, 152, 40, 64, 248, 112, 160, 240, 152, 208, 128, 64, 16, 115, 162, 206, 156, 200, 248, 80, 32, 168, 152, 104, 240, 184, 144, 232, 24, 96, 48, 32, 216, 72, 184, 216, 248, 0, 0, 0, 248, 248, 248),
	# Original (104, 104, 104, 64, 64, 64, 152, 40, 64, 248, 112, 160, 240, 152, 208, 128, 64, 16, 224, 168, 24, 240, 208, 120, 80, 32, 168, 152, 104, 240, 184, 144, 232, 24, 96, 48, 32, 216, 72, 184, 216, 248, 0, 0, 0, 248, 248, 248),

	# Course and level end stars
	(88, 88, 88, 0, 0, 0, 192, 56, 0, 248, 136, 0, 248, 216, 0, 248, 248, 200, 0, 24, 104, 0, 88, 184, 0, 176, 224, 240, 232, 144, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),
	(136, 136, 128, 0, 0, 0, 248, 136, 0, 0, 136, 248, 192, 208, 208, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 232, 232, 232, 248, 0, 96, 248, 208, 56, 40, 248, 64, 96, 56, 192, 0, 0, 0),
	(88, 88, 88, 8, 8, 8, 248, 136, 0, 248, 192, 0, 248, 248, 104, 248, 248, 0, 248, 248, 216, 120, 120, 0, 184, 176, 88, 240, 232, 144, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),

	# Kirby / Keeby
	(88, 88, 88, 24, 24, 24, 224, 32, 88, 248, 72, 136, 248, 112, 192, 248, 152, 240, 248, 208, 248, 24, 24, 24, 16, 56, 48, 56, 56, 56, 32, 112, 104, 64, 144, 136, 104, 184, 176, 136, 216, 208, 168, 248, 240, 248, 248, 248),
	(88, 88, 88, 24, 24, 24, 33, 81, 123, 74, 121, 165, 115, 162, 206, 156, 200, 248, 208, 229, 248, 24, 24, 24, 16, 56, 48, 248, 16, 72, 72, 24, 48, 248, 48, 120, 248, 112, 192, 248, 152, 240, 248, 208, 248, 248, 248, 248),
	# Original Keeby (88, 88, 88, 24, 24, 24, 160, 48, 0, 200, 120, 32, 224, 192, 96, 232, 216, 160, 248, 248, 208, 24, 24, 24, 16, 56, 48, 248, 16, 72, 72, 24, 48, 248, 48, 120, 248, 112, 192, 248, 152, 240, 248, 208, 248, 248, 248, 248),

	# Various
	(88, 88, 88, 8, 8, 8, 208, 88, 0, 248, 128, 24, 208, 16, 48, 248, 40, 80, 128, 32, 128, 200, 72, 200, 16, 144, 64, 16, 192, 112, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),

	# P15 orig v
	(88, 88, 88, 24, 24, 24, 0, 112, 0, 0, 144, 0, 0, 192, 0, 0, 248, 0, 224, 248, 232, 168, 240, 96, 0, 136, 0, 248, 248, 0, 80, 40, 8, 168, 88, 8, 248, 184, 8, 248, 248, 0, 248, 248, 128, 248, 248, 248),
	(88, 88, 88, 24, 24, 24, 80, 40, 8, 168, 88, 8, 248, 184, 8, 248, 248, 0, 248, 248, 224, 248, 248, 128, 136, 136, 0, 56, 160, 248, 24, 56, 80, 63, 155, 241, 114, 179, 239, 156, 200, 248, 208, 208, 248, 248, 248, 248),

	(88, 88, 88, 0, 0, 0, 0, 32, 80, 0, 72, 128, 232, 176, 56, 8, 16, 64, 24, 24, 64, 208, 0, 32, 128, 160, 192, 128, 144, 64, 160, 104, 144, 248, 152, 168, 240, 104, 16, 248, 168, 0, 248, 208, 0, 248, 248, 248),
	(88, 88, 88, 0, 0, 0, 136, 0, 0, 248, 0, 0, 248, 72, 112, 248, 136, 48, 0, 96, 0, 0, 176, 0, 136, 112, 16, 248, 200, 0, 248, 216, 176, 88, 248, 72, 0, 0, 120, 0, 0, 248, 136, 136, 248, 248, 248, 248),

	# Bosses
	(88, 88, 88, 0, 0, 0, 80, 56, 16, 144, 96, 72, 184, 152, 96, 0, 56, 0, 0, 96, 0, 0, 176, 0, 72, 48, 0, 168, 96, 80, 208, 168, 136, 80, 8, 32, 248, 0, 0, 96, 96, 96, 40, 40, 40, 248, 248, 248),
	# Gordo, might be wrong... Affects suzy?
	(88, 88, 88, 8, 8, 8, 224, 176, 152, 240, 208, 176, 200, 168, 80, 224, 208, 104, 248, 248, 216, 120, 120, 0, 184, 176, 88, 240, 232, 144, 36, 26, 9, 69, 108, 29, 146, 74, 21, 242, 198, 93, 198, 123, 40, 241, 214, 197),
	
	# Kracko
	# orig(88, 88, 88, 0, 0, 0, 168, 144, 0, 248, 200, 0, 48, 48, 88, 96, 96, 176, 144, 144, 184, 200, 200, 224, 72, 48, 0, 168, 96, 80, 208, 168, 136, 80, 8, 32, 200, 56, 120, 248, 152, 224, 40, 40, 40, 248, 248, 248),
	(154, 154, 154, 103, 112, 103, 36, 26, 9, 69, 108, 29, 146, 74, 21, 242, 198, 93, 198, 123, 40, 241, 214, 197, 203, 148, 100, 125, 61, 17, 160, 83, 27, 222, 186, 169, 68, 29, 16, 18, 6, 4, 0, 0, 0, 249, 232, 229),
	
	# Kabu
	#orig(88, 88, 88, 0, 0, 0, 136, 0, 0, 248, 0, 0, 248, 72, 112, 248, 136, 48, 0, 96, 0, 0, 176, 0, 136, 112, 16, 248, 200, 0, 248, 216, 176, 88, 248, 72, 0, 0, 120, 0, 0, 248, 136, 136, 248, 248, 248, 248),
	(88, 88, 88, 0, 0, 0, 70, 40, 40, 248, 0, 0, 248, 72, 112, 248, 136, 48, 0, 96, 0, 0, 176, 0, 82, 76, 55, 248, 200, 0, 248, 216, 176, 88, 248, 72, 0, 0, 120, 0, 0, 248, 136, 136, 248, 248, 248, 248),

	
	# Course select screen
	# Whispy & Gordo: text, frame
	(104, 104, 104, 240, 240, 240, 240, 224, 176, 224, 208, 112, 224, 192, 80, 24, 24, 24, 168, 240, 208, 136, 216, 184, 48, 192, 112, 240, 240, 240, 24, 24, 24, 176, 112, 184, 128, 72, 136, 240, 240, 240, 24, 24, 24, 0, 0, 0),
	# Mr. Shine, Mr. Bright & Kracko: text, frame
	(104, 104, 104, 240, 240, 240, 160, 216, 232, 104, 184, 240, 56, 120, 216, 24, 24, 24, 232, 192, 224, 224, 160, 200, 200, 112, 160, 240, 240, 240, 24, 24, 24, 192, 72, 0, 136, 48, 136, 112, 48, 224, 32, 136, 48, 160, 216, 104),
	# Whispy
	(104, 104, 104, 24, 24, 24, 72, 40, 16, 112, 80, 56, 136, 104, 48, 0, 56, 0, 0, 96, 0, 0, 144, 0, 0, 0, 0, 152, 152, 152, 232, 136, 96, 248, 144, 120, 240, 240, 240, 248, 232, 136, 248, 248, 184, 192, 232, 248),
	# Mr. Shine & Mr. Bright
	(104, 104, 104, 24, 24, 24, 152, 56, 0, 200, 104, 0, 248, 168, 0, 248, 200, 48, 96, 96, 96, 184, 184, 184, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
	# Kracko
	(104, 104, 104, 26, 33, 8, 242, 198, 93, 75, 95, 30, 153, 80, 23, 117, 144, 40, 200, 128, 52, 233, 208, 193, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),
	# Gordo
	(104, 104, 104, 24, 24, 24, 0, 0, 0, 168, 80, 80, 136, 72, 72, 112, 112, 112, 80, 80, 80, 240, 240, 240, 0, 0, 0, 0, 0, 0, 200, 200, 240, 176, 176, 200, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),

	# new
	(96, 80, 56, 136, 136, 88, 168, 192, 136, 184, 216, 184, 208, 248, 224),
	
	# King Dedede in story
	# old ross, no rope (254, 255, 252, 76, 49, 48, 73, 59, 69, 105, 72, 69, 79, 80, 106, 92, 98, 135, 123, 105, 105, 102, 115, 161, 144, 129, 128, 117, 137, 193, 128, 153, 217, 172, 154, 147, 141, 168, 236, 206, 182, 171, 248, 194, 228, 243, 214, 194),
	(178, 0, 255, 56, 56, 56, 24, 24, 24, 0, 68, 114, 104, 56, 24, 80, 80, 96, 0, 116, 198, 120, 112, 128, 0, 148, 255, 144, 144, 152, 232, 152, 48, 255, 187, 127, 208, 208, 208, 248, 216, 72, 255, 211, 173, 248, 248, 248),
	#orig(0, 0, 48, 24, 24, 24, 136, 0, 0, 248, 0, 0, 64, 0, 0, 232, 152, 48, 248, 216, 72, 96, 176, 192, 120, 232, 232, 0, 0, 0, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),

	# Bronto Burt
	# Burgie (88, 88, 88, 0, 0, 0, 130, 204, 57, 88, 138, 38, 255, 227, 137, 237, 174, 80, 219, 149, 70, 204, 119, 51, 82, 26, 0, 240, 232, 144, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),
	(88, 88, 88, 0, 0, 0, 200, 200, 200, 64, 8, 0, 248, 80, 16, 248, 152, 72, 248, 208, 152, 160, 16, 40, 248, 96, 120, 240, 232, 144, 56, 56, 56, 80, 80, 96, 120, 112, 128, 144, 144, 152, 208, 208, 208, 248, 248, 248),

	# Dreams: Cake
	# wrong one?(88, 88, 88, 8, 8, 8, 168, 168, 0, 192, 192, 0, 216, 216, 0, 248, 248, 0, 248, 248, 216, 120, 120, 0, 184, 176, 88, 240, 232, 144, 133, 132, 140, 97, 96, 102, 66, 49, 46, 226, 177, 154, 240, 208, 176, 248, 248, 248),
	(72, 0, 88, 8, 8, 8, 200, 168, 80, 224, 208, 104, 208, 16, 48, 248, 40, 80, 128, 32, 128, 200, 72, 200, 16, 144, 64, 16, 192, 112, 56, 56, 56, 80, 80, 96, 64, 48, 40, 224, 176, 152, 240, 208, 176, 248, 248, 248),

	# Dreams: Ice cream
	(88, 88, 88, 24, 24, 24, 80, 40, 8, 168, 88, 8, 248, 184, 8, 248, 248, 0, 248, 248, 224, 248, 248, 128, 136, 136, 0, 0, 112, 248, 24, 56, 80, 56, 152, 240, 112, 176, 232, 152, 200, 248, 208, 208, 248, 248, 248, 248),
	
	# Dreams: Candy
	(88, 88, 88, 24, 24, 24, 32, 80, 120, 72, 120, 160, 112, 160, 200, 152, 200, 240, 208, 224, 248, 24, 24, 24, 16, 56, 48, 248, 0, 0, 68, 45, 45, 204, 173, 83, 229, 208, 105, 226, 177, 154, 240, 208, 176, 248, 248, 248),

	# Story background (Trees, small weird things)
	(32, 136, 240, 16, 64, 56, 32, 88, 48, 24, 64, 96, 24, 96, 96, 24, 64, 96, 24, 96, 96, 0, 40, 160, 120, 104, 144, 136, 144, 200, 56, 128, 112, 40, 112, 96, 176, 128, 88, 184, 144, 112, 200, 152, 128, 232, 224, 216),

	# Story background (big weird thing top part)
	(32, 136, 240, 0, 0, 0, 24, 56, 0, 32, 80, 0, 32, 144, 0, 96, 208, 0, 104, 96, 96, 208, 192, 176, 232, 224, 216, 32, 136, 240, 32, 136, 240, 32, 136, 240, 32, 136, 240, 32, 136, 240, 32, 136, 240, 32, 136, 240),

	# Story background (Big weird things)
	(32, 136, 240, 104, 72, 32, 176, 120, 80, 200, 144, 120, 104, 96, 96, 208, 192, 176, 232, 224, 216, 224, 208, 136, 216, 192, 120, 200, 176, 104, 176, 152, 80, 128, 104, 48, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0),

]

def palette(timg, tdrawable, option):
	pdb.gimp_image_set_colormap(timg, len(CMAPS[option]), CMAPS[option])

register(
	"KDCTools-palette",
	"Choose palette",
	"Choose palette",
	"vltz",
	"vltz",
	"2016",
	"<Image>/Tools/KDC Tools/Palette...",
	"INDEXED*",
	[
		(PF_OPTION, "option", "Palette", 0, ["P0: Black & white palette", "P1: Title screen background tile", "P2: Title screen logo", "P4: Title screen Kirby", "P5*: Title screen stars", "P6: Cutscene bg and frame", "P7: Cutscene logo", "P8: Scoreboard", "P9: Course end star", "P10: Course end star's trailing stars", "P11: Level end star & trail", "P12: Kirby in-game", "P13: Keeby in-game / other", "P14: Guide balls", "P15 Original", "P15: Guide end / Bird / Keeby's stars / Umbrella / Keeby cards", "P16: Starting platform", "P17: Tomatoes", "P18: Whispy Woods", "P19: Gordo", "P20: Kracko", "P21: Kabu", "P22: Whispy Woods & Gordo: text & frame", "P23: Mr. Shine & Mr. Bright, Kracko: text & frame / other", "P24: Whispy Woods image", "P25: Mr. Shine & Mr. Bright image", "P26: Kracko image", "P27: Gordo image", "new", "King Dedede story", "Bronto Burt", "Dreams: Cake", "Dreams: Ice cream", "Dreams: Candy", "Story background 1", "Story background 2 top part", "Story background 2"])
	],
	[],
	palette)

main()